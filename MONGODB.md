# Mongo Db


```Mongo

db.employees.insertOne({ 
    firstName: "John",
    lastName: "King",
    email: "john.king@abc.com"
})

```

Output:

{
  acknowledged: true,
  insertedId: ObjectId("616d44bea861820797edd9b0")
}

In the above example, we passed a document to the insertOne() method. Notice that we haven't specified _id field. So, MongoDB inserts a document to a collection with the autogenerated unique _id field. It returns an object with a boolean field acknowledged that indicates whether the insert operation is successful or not, and insertId field with the newly inserted _id value.


MongoDB is NOSQL database. So, it does not enforce schema to any collection. It means you can insert a document with any fields to a collection. For example, the following inserts a document with different fields to the employees collection.


db.employees.insertOne({ 
    fName: "John",
    lName: "King",
    emailid: "john.king@abc.com"
})


Output:

{
  acknowledged: true,
  insertedId: ObjectId("546d44bea861820797ed214")
}

It is recommended to keep the field names same in all the documents of a collection to manage them easily.


## Insert _id manually

### It is not necessary to insert auto-generated _id value. You can manually specify a unique value for the _id field, as shown below.

db.employees.insertOne({ 
    _id:"1",
    firstName: "John",
    lastName: "King",
    email: "john.king@abc.com"
})


Output:

{
  acknowledged: true,
  insertedId: 1
}


Note that while adding your custom value to _id field, a value must be unique; otherwise, it will throw an error. The following tries to add the same _id value.

Example: Insert a Document

db.employees.insertOne({ 
    _id:"1",
    firstName: "John",
    lastName: "King",
    email: "john.king@abc.com"
})

Output:

MongoServerError: E11000 duplicate key error collection: humanResourceDB.employees index: _id_ dup key: { _id: "1" }



Notice it throws an error when you try to insert a new employee with the same id.


# Find Single Document in MongoDB

db.employees.insertMany([
    { 
        _id:1,
        firstName: "John",
        lastName: "King",
        email: "john.king@abc.com",
        salary: 5000
    },
    { 
        _id:2,
        firstName: "Sachin",
        lastName: "T",
        email: "sachin.t@abc.com",
        salary: 8000
    },
    { 
        _id:3,
        firstName: "James",
        lastName: "Bond",
        email: "jamesb@abc.com",
        salary: 7500
    },
    { 
        _id:4,
        firstName: "Steve",
        lastName: "J",
        email: "steve.j@abc.com",
        salary: 9000

    },
    { 
        _id:5,
        firstName: "Kapil",
        lastName: "D",
        email: "kapil.d@abc.com",
        salary: 4500

    },
    { 
        _id:6,
        firstName: "Amitabh",
        lastName: "B",
        email: "amitabh.b@abc.com",
        salary: 11000
    }
])


## Find One

The findOne() method returns the first document that is matched with the specified criteria.

Syntax:
db.collection.findOne(query, projection)

Parameters:

1. query: Optional. Specifies the criteria using query operators.
2. projection: Optional. Specifies the fields to include in a resultyed document.

The findOne() returns the first document from a collection if no parameter is passed.

Example: find()

db.employees.findOne()

Output:
{
  _id: 1,
  firstName: 'John',
  lastName: 'King',
  email: 'john.king@abc.com',
  salary: 5000
}

Or:

db.employees.findOne({firstName: "Admir"})

Output: 

{
  _id: 5,
  firstName: 'Kapil',
  lastName: 'D',
  email: 'kapil.d@abc.com',
  salary: 4500
}

The findOne() method performs the case-sensitive search, so {firstName: "Admir"} and {firstName: "admir"}
returns different result.


### What if it cannot find a document?

It returns null if it cannot find a document matching athe specified criteria.

Example: find()

db.employees.findOne({_id:10})

Output:

null


Use the query operators for more refined search. For example, the following finds the first document where salary is greater than 8000.

db.employees.findOne({salary: {$gt: 8000}})

Output: 

{
  _id: 4,
  firstName: 'Steve',
  lastName: 'J',
  email: 'steve.j@abc.com',
  salary: 9000
}
